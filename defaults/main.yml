# Defaults variables for role restic
# Restic version to deploy
restic_version: 0.18.1

restic_aws_access_key_id: # ignore if not using aws
restic_aws_secret_access_key:  # ignore if not using aws
restic_repo: /var/lib/restic/repo # where to backup, can s3 path, etc
restic_repo_password: ibQeFA6NODRbmBb1Jd # used to init/unlock restic backup repository, use another one of course
restic_logfile: /var/log/restic.log
restic_user: root # in case for some nodes we want different user
# Useful to just use a common vhost for restic
# Default to hostname but if we have to move a machine and change hostname we can use rewrite
# restic rewrite --host <old_hostname> --new-host <new_hostname>
# Using by default setting below to a vhost that doesn't change is better
restic_hostname: "{{ inventory_hostname }}" 

# We can parse a list of src directories to backup in repo
# We can (optional) add some restic options (see doc) per source, like exclude or else
restic_folders_list:
  - name: etc-backup
    local_path: /etc/
  - name: other
    local_path: /srv/
    restic_opts: '--exclude="*.foo" '

# Snapshots management. How many do we want to keep ?
# see https://restic.readthedocs.io/en/stable/060_forget.html
restic_keep_last: 5
restic_keep_daily: 7
restic_keep_weekly: 4
restic_keep_monthly: 12
restic_keep_yearly: 2

# We can use cron, but by default disabled, in case we want to chain other tool and calling restic after
restic_cron: False
wrapstic_cron_hour: "1"
wrapstic_cron_minute: "10"
